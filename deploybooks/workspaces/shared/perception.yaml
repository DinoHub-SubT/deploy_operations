- scenarios.perception:
  - export SERVICE=perception
  - set_docker_compose_service

  # setup pre-defined environment variables, for workspace env import
  - +env:DOCKER_CONTAINER=${ROBOT}-perception-shell

  # import the workspace environment setup
  - set_workspace_configuration

  # override any default environment setups?
  - export DOCKER_BASE_IMAGE_PROJECT=${SCENARIOS_PLATFORM}

  # extend general actions
  - +extend: common/docker.registry
  - +extend: common/docker
  - catkin:
    - export CATKIN_PROFILE=perception.${COMPUTER_ARCH}
    - +import:env/catkin.env

    - source /opt/ros/melodic/setup.bash
    - +extend: catkin/common
    - deps:
      - export CATKIN_WORKSPACE=perception/deps/catkin
      - +extend: catkin/build
      - +extend: catkin/clean
    - +extend: catkin/perception
    - +extend: catkin/subt_launch
